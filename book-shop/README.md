# 📚 Book Store 개발 프로젝트

## 📃 프로젝트 소개

해당 프로젝트는 서점 웹페이지의 기본적인 기능들을 따라하며, 
Node.js의 이해를 높이고 로그인(JWT), CRUD, DB(MySQL)와의 연계 등을 하기위해 
연습한 개인 프로젝트 입니다. 

## ✏️ 프로젝트 기획

서점 페이지에서 사용할 것으로 예측되는 기본적인 기능들을 선정하여 모두 구현하였습니다.

### 목록

![프로젝트_2___3_와이어프레임_화면_설계__page-0002.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/776f4ca3-2cde-463d-8811-952f0394ad27/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0002.jpg)

### 책 상세

![프로젝트_2___3_와이어프레임_화면_설계__page-0003.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/a8cec426-c5a0-45b9-9f54-07b832460a3d/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0003.jpg)

![프로젝트_2___3_와이어프레임_화면_설계__page-0004.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/c4d8320b-8315-4d9c-90d2-5c46bcfc0aed/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0004.jpg)

### 장바구니

![프로젝트_2___3_와이어프레임_화면_설계__page-0005.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/39189c43-f73d-4adc-a3da-de3cfdaf036f/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0005.jpg)

### 주문서 작성

![프로젝트_2___3_와이어프레임_화면_설계__page-0006.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/d83eb1c0-eed4-48fe-acda-f120da318876/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0006.jpg)

### 주문 목록

![프로젝트_2___3_와이어프레임_화면_설계__page-0007.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/8f698529-b0f1-4249-bc53-857267b475a4/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0007.jpg)

### 회원가입

![프로젝트_2___3_와이어프레임_화면_설계__page-0008.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/faa233a9-4bc4-481e-ba94-63cc684e7e77/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0008.jpg)

### 로그인

![프로젝트_2___3_와이어프레임_화면_설계__page-0009.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/8b132f5f-0d1e-428a-9247-ee9f64c74cba/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0009.jpg)

### 비밀번호 초기화

![프로젝트_2___3_와이어프레임_화면_설계__page-0010.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/6b5176e7-036c-4000-bf36-afbfdf12d46b/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0010.jpg)

### 메인

![프로젝트_2___3_와이어프레임_화면_설계__page-0011.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/c199723f-3afd-4b03-8e73-806de6a87213/%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_2___3_%E1%84%8B%E1%85%AA%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7_%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8__page-0011.jpg)

## 🗓️ 프로젝트 기간

**2024.04.20 ~ 2024.06.04**

## ⚒️ Tech Stack

- Node.js / Express
- MySQL

## 🌈 주요 수행 결과물

### ERD

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/7616669a-09c3-4dc3-bc9a-ccb55aa95040/Untitled.png)

### API 설계

# 회원 API

**회원 가입**

| Method | POST |
| --- | --- |
| URI | /users/join |
| HTTP status code | 성공 201 |
| Request Body | {
    email : “사용자가 입력한 이메일”,
    password : “사용자가 입력한 비밀번호”,
    name : “사용자가 입력한 이름”,
    contact : “사용자가 입력한 전화번호”,
} |
| Response Body |  |

**로그인**

| Method | POST |
| --- | --- |
| URI | /users/login |
| HTTP status code | 성공 200 |
| Request Body | {
    email : “사용자가 입력한 이메일”,
    password : “사용자가 입력한 비밀번호”
} |
| Response Cookie | “JWT Token” |

**비밀번호 초기화 요청**

// 비밀번호 분실 시 하는 요청(로그인 전)

| Method | POST |
| --- | --- |
| URI | /users/reset |
| HTTP status code | 성공 200  |
| Request Body | {
    email : “사용자가 입력한 이메일”
} |
| Response Body |  |

**비밀번호 초기화(= 수정)**

| Method | PUT |
| --- | --- |
| URI | /users/reset |
| HTTP status code | 성공 200 |
| Request Body | {
    password : “사용자가 입력한 비밀번호”
} |
| Response Body |  |

---

# 도서 API

**전체 도서 조회**

// 이미지 경로 N개씩 보내줘야한다.

| Method | GET |
| --- | --- |
| URI | /books?limit={page당 도서 수} &currentPage = {현재 page} |
| HTTP status code | 성공 200 |
| Request Body |  |
| Response Body | {
    books : [
        {
            id : 도서 id,
            title : “도서 제목”,
            img : 이미지 id,
            summary : “요약설명”,
            author: “도서 작가”,
            price : 가격,
            likes : 좋아요 수,
            pubDate : “출간일”
        }, ….
    ],
    pagination : {
       currentPage : 현재 페이지,
       totalCount : 총 도서 수
    }
    
} |

**개별 도서 조회**

| Method | GET |
| --- | --- |
| URI | /books/{BookId} |
| HTTP status code | 성공 200 |
| Request Header | Authorization : “JWT Token” |
| Response Body | {
    id : 도서 id,
    title : “도서 제목”,
     img : 이미지 id (picsum),
    categoryName : “카테고리명
    form : “포맷”,
    isbn : “isbn”, 
    summary : “요약설명”,
     detail : “상세설명”,
    author: “도서 작가”,
    pages : 쪽 수,
    contents : “목차”,
    price : 가격,
    ikes : 좋아요 수,
    liked : boolean,
    pubDate : “출간일”
} |

**카테고리별 도서 조회**
new : true ⇒ 신간 조회

// 신간 기준은 출간일 기준 한 달이 안된 것

| Method | GET |
| --- | --- |
| URI | /books?categoryId={categoryId}&new={boolean}&limit={page당 도서 수} &currentPage = {현재 page} |
| HTTP status code | 성공 200 |
| Request Body |  |
| Response Body | {
    books : [
        {
            id : 도서 id,
            title : “도서 제목”,
            img : 이미지 id,
            summary : “요약설명”,
            author: “도서 작가”,
            price : 가격,
            likes : 좋아요 수,
            pubDate : “출간일”
        }, ….
    ],
    pagination : {
       currentPage : 현재 페이지,
       totalCount : 총 도서 수
    }
    
} |

| Method |  |
| --- | --- |
| URI |  |
| HTTP status code |  |
| Request Body |  |
| Response Body |  |

---

# 좋아요 API

왜 Body에 담아야 

**좋아요 추가**

| Method | POST |
| --- | --- |
| URI | /likes/{bookId} |
| HTTP status code | 성공 200 |
| Request Headers | Authorization : “JWT Token” |
| Request Body | // 로그인할 때 받은 token req.header “Authorization”
// payload 값을 통해 유저 id를 읽을 수 있다. |
| Response Body |  |

**좋아요 취소**

| Method | DELETE |
| --- | --- |
| URI | /likes/{bookId} |
| HTTP status code | 성공 200 |
| Request Headers | Authorization : “JWT Token” |
| Request Body | // 로그인할 때 받은 token req.header “Authorization”
// payload 값을 통해 유저 id를 읽을 수 있다. |
| Response Body |  |

---

# 장바구니 API

**장바구니 담기**

| Method | POST |
| --- | --- |
| URI | /cart |
| HTTP status code | 성공 201 |
| Request Headers | Authorization : “JWT Token” |
| Request Body | {
    bookId : 도서 id,
    count : 수량,
} |
| Response Body |  |

**장바구니 조회(선택한 장바구니 상품 목록 조회)**

| Method | GET |
| --- | --- |
| URI | /cart |
| HTTP status code | 성공 200 |
| Request Headers | Authorization : “JWT Token” |
| Request Body | 1. 내 장바구니 아이템 목록 조회 : Request Body 없음

2. 선택한 장바구니 상품 목록 조회
{
    selected : [cartItemId1, cartItemId2…]
} |
| Response Body | [
    {
        id : 장바구니 도서 id,
        bookId : 도서 id,
        title : “도서 제목”,
        summary : “요약설명”,
        count : 수량,
        price : 가격
    },
   {
        id : 장바구니 도서 id,
        bookId : 도서 id,
        title : “도서 제목”,
        summary : “요약설명”,
        count : 수량,
        price : 가격
    },
    ….
] |

**장바구니 도서 제거**

| Method | DELETE |
| --- | --- |
| URI | /cart/{cartItemId} |
| HTTP status code | 성공 200 |
| Request Body |  |
| Response Body |  |

| Method |  |
| --- | --- |
| URI |  |
| HTTP status code |  |
| Request Body |  |
| Response Body |  |

---

# (결제)주문 API

**장바구니에서 선택한 주문 “예상” 상품 목록 조회**

| Method | GET |
| --- | --- |
| URI | / |
| HTTP status code | 성공 200 |
| Request Body | {cartItemId, cartItemId…} |
| Response Body | {
    {
        cartItemId : 장바구니 도서 id,
        bookId : 도서 id,
        title : “도서 제목”,
        summary : “요약설명”,
        count : 수량,
        price : 가격,
    },
   {
        cartItemId : 장바구니 도서 id,
        bookId : 도서 id,
        title : “도서 제목”,
        summary : “요약설명”,
        count : 수량,
        price : 가격,
    },
    ….
} |

**결제하기  = 주문하기 = 주문 등록 = 데이터베이스 주문 insert = 장바구니에서 주문된 상품은 delete**

| Method | POST |
| --- | --- |
| URI | /orders |
| HTTP status code | 성공 200 |
| Request Headers | Authorization : “JWT Token” |
| Request Body | {
    items : [cartItemId : 장바구니 도서 id,……],
    delivery : {
        address : “주소”,
        receiver : “이름”,
        contact : “전화번호”
    },
    firstBookTitle : “대표도서제목”
    totalQuantity : 총 수량,
    totalPrice : 총 금액,
} |
| Response Body |  |

**주문 목록(내역) 조회**

| Method | GET |
| --- | --- |
| URI | /orders |
| HTTP status code | 성공 200 |
| Request Header | Authorization : “JWT Token”  |
| Response Body | {
    {
        id : 주문 id,
        orderedAt : “주문일자”,
        address : “주소”,
        receiver : “이름”,
        contact : “전화번호”
        firstBookTitle : “대표 책 제목”,
        totalPrice : 결제 금액,
        totalQuantity : 총 수량,
    }, …
} |

**주문 상세 상품 조회**

| Method | GET |
| --- | --- |
| URI | /orders/{orderId} |
| HTTP status code | 성공 200 |
| Request Body |  |
| Response Body | {
    {
        bookId : 도서 id,
        title: “도서 제목”,
        author : “작가명”,
        price : 가격,
        quantity : 수량,        
    }, ….
} |

![데브코스1.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/d338824e-f5ae-454c-9507-6d1ec888e215/0b8616d3-bcc6-445d-8fef-bc33a8a96ae5/%E1%84%83%E1%85%A6%E1%84%87%E1%85%B3%E1%84%8F%E1%85%A9%E1%84%89%E1%85%B31.png)

---

# 카테고리 API

전체 카테고리 조회

| Method | GET |
| --- | --- |
| URI | /categories |
| HTTP status code | 성공 200 |
| Request Body |  |
| Response Body | [
    {
        id : 카테고리 id
        categoryName : “카테고리명”, … 
    }
] |

---